package com.chengtao.commad;

import java.util.ArrayList;

import com.chengtao.entity.ChinaNode;
import com.chengtao.iterator.CompositeIterator;
import com.chengtao.utils.FileUtils;
import com.chengtao.utils.NodeUtils;

public class ChildrenCommand extends AbsCommand{

	@Override
	public void execute(String arg) {
		CompositeIterator iterator = NodeUtils.getNodeIterator(FileUtils.readTreeInfoFromFile());
		ChinaNode node = getSearchNode(arg);
		while (iterator.hasNext()) {
			ChinaNode chinaNode = iterator.next();
			if (chinaNode.getSelfName().equals(arg)) {
				node = chinaNode;
			}
		}
		if (NodeNotNull(node)) {
			ArrayList<ChinaNode> nodes = node.getChildren();
			for (int i = 0; i < nodes.size(); i++) {
				if (i != nodes.size() - 1) {
					System.out.print(nodes.get(i).getSelfName() + ", ");
				}else {
					System.out.println(nodes.get(i).getSelfName() + ".");
				}
			}
		}
	}

}
