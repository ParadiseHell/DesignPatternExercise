package com.chengtao.base;

import com.chengtao.impl.BinomialIterator;

/**
 * 二项式分布概率类<br/>
 * 只针对概率为1/2，且成功次数为总次数的一半
 * 
 * @author ChengTao
 *
 */
public class Binomial implements BinomialIterator {
	private int fontPos = 1;
	private int backPos = -1;
	private int successNum = 0;
	private int totalNum = 0;
	private float testResult =  1;
	private float currentResult = 1;

	public Binomial(int successNum) {
		this.successNum = successNum;
		backPos = successNum;
		totalNum = 2 * successNum;
	}

	@Override
	public boolean hasNext() {
		return fontPos == backPos;
	}

	@Override
	public float next() {
		float result = 1;
		testResult *= (float)(successNum + fontPos) / ((float)fontPos * 4);
		if (testResult > 1) {
			currentResult = (float)(successNum + backPos) / ((float)backPos * 4);
			testResult = currentResult;
			backPos--;
		}else {
			
		}
		return result;
	}
}
