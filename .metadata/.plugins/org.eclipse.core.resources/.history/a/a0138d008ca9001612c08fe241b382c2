package com.chengtao.base;

import com.chengtao.impl.BinomialIterator;

/**
 * 二项式分布概率类<br/>
 * 只针对概率为1/2，且成功次数为总次数的一半
 * @author ChengTao
 *
 */
public class Binomial implements BinomialIterator{
	private int successNum;
	private int totalNum;
	private int backNum = 0;
	private int fontNum = 0;
	private float realResult = 1;
	private float testResult = 1;
	
	public Binomial(int successNum) throws NumberToBigException {
		if (successNum <= Integer.MAX_VALUE / 2) {
			this.successNum = successNum;
			totalNum = 2 * successNum;
		}else {
			throw new NumberToBigException();
		}
	}

	@Override
	public boolean hasNext() {
		return backNum + fontNum < successNum;
	}

	@Override
	public float next() {
		float result = 1;
		result = ((float)(totalNum - backNum) / (( successNum - backNum) * 4));
		
		return result;
	}
	
	
	private class NumberToBigException extends Exception{

		/**
		 * 
		 */
		private static final long serialVersionUID = 1483277992636961845L;

		@Override
		public void printStackTrace() {
			System.out.println("输入的数字太大了......");
		}
		
	}
}
