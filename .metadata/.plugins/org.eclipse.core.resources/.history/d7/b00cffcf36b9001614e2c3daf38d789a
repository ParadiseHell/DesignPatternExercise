package com.chengtao.utils;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;

import com.chengtao.entity.ChinaNode;

/**
 * the utils to read file to get city info
 * @author ChengTao
 *
 */
public class FileUtils {
	private static ArrayList<ChinaNode> chinaNodes =
	/**
	 * read three item info from file
	 * @param filePath the path of the file
	 */
	public static ArrayList<ChinaNode> readTreeInfoFromFile(String filePath) {
		ArrayList<ChinaNode> chinaNodes = new ArrayList<>();
		File treeInfoFile = new File(filePath);
		FileReader fr = null;
		BufferedReader br = null;
		try {
			fr = new FileReader(treeInfoFile);
			br = new BufferedReader(fr);
			String lineInfo = "";
			String infoArr[] = null;
			while(true){
				lineInfo = br.readLine();
				if (lineInfo == null || lineInfo.equals("")) {
					break;
				}
				infoArr = lineInfo.split(", ");
				chinaNodes.add(new ChinaNode(infoArr[0], infoArr[1]));
			}
		} catch (IOException e) {
			e.printStackTrace();
		}finally {
			if (br != null) {
				try {
					br.close();
				} catch (IOException e) {
					e.printStackTrace();
				}
			}
			if (fr != null) {
				try {
					fr.close();
				} catch (IOException e) {
					e.printStackTrace();
				}
			}
		}
		return chinaNodes;
	}
}
